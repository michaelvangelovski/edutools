import{j as u,r as h,u as p,B as f,L as g,T as b,C as y,G as x,a as m,b as d,c as v,R as S,S as j,d as l,e as L,f as N,M as w}from"./vendor-84e8b10c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function c(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=c(r);fetch(r.href,n)}})();const e=u.jsx,i=u.jsxs,E=()=>window.appdata.config,P=o=>Object.keys(o).map(t=>`${t}=${o[t]}`).join("&"),R=(o,t)=>(t=t||{},t.sesskey=E().sesskey,o+"?"+P(t)),T=()=>{const[o,t]=h.useState({response:null,error:!1,loading:!1}),c=(s={method:"GET",body:{},query:{}},r="/app/platform/service.php")=>{(s.query||s.body)&&(console.log("Running ajax"),t({response:null,error:null,loading:!0}),fetch(R(r,s.query),{method:s.method||"GET",headers:{"Content-Type":"application/json"},body:s.method!=="GET"&&JSON.stringify(s.body)}).then(async n=>{const a=await n.json();t({response:a,error:n.error,loading:!1})}).catch(n=>{t({response:n,error:!0,loading:!1})}))};return[o.response,o.error,o.loading,c]},A=()=>{const[o,t,c,s]=T(),r=p({initialValues:{name:"",conditions:!1},validate:{}}),n=a=>{s({method:"POST",body:{methodname:"app_example-test_service",args:a}})};return o&&!t?i("p",{children:["API call success, perhaps redirect? ",e("br",{})," ",o.data]}):i(f,{sx:{maxWidth:600},mx:"auto",children:[e("h1",{className:"text-3xl font-bold underline",children:"Form"}),i("div",{style:{position:"relative"},children:[e(g,{visible:c,overlayBlur:2}),i("form",{onSubmit:r.onSubmit(n),children:[e(b,{withAsterisk:!0,label:"Name",placeholder:"Enter a name",...r.getInputProps("name")}),e(y,{mt:"md",label:"I have read the fine print",...r.getInputProps("conditions",{type:"checkbox"})}),i(x,{position:"right",mt:"md",children:[e(m,{href:"/",children:e(d,{children:"Cancel"})}),e(d,{type:"submit",children:"Submit"})]}),t&&i("div",{children:[e("p",{children:"There was an error submitting: "}),e("p",{children:o.exception.message})]})]})]})]})},F=()=>e(h.Fragment,{children:i("div",{children:[e("h1",{className:"text-3xl font-bold underline",children:"List"}),e(m,{href:"/form",className:"active",children:"Form"})]})});function I(){const[o]=v();return console.log(o),e("main",{children:e(S,{base:"/app/example",children:i(j,{children:[e(l,{path:"/",children:e(F,{})}),e(l,{path:"/form",children:e(A,{})}),e(l,{children:"404, Not Found!"})]})})})}L.createRoot(document.getElementById("root")).render(e(N.StrictMode,{children:e(w,{withGlobalStyles:!0,withNormalizeCSS:!0,children:e(I,{})})}));
