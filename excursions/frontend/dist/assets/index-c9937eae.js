import{j as h,r as d,u as p,L as f,B as y,T as g,C as b,G as x,a as m,b as u,c as S,R as v,S as j,d as c,e as w,f as L,M as O}from"./vendor-84e8b10c.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function l(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(r){if(r.ep)return;r.ep=!0;const t=l(r);fetch(r.href,t)}})();const e=h.jsx,a=h.jsxs,N=()=>window.appdata.config,E=o=>Object.keys(o).map(n=>`${n}=${o[n]}`).join("&"),F=(o,n)=>(n.sesskey=N().sesskey,o+"?"+E(n)),P=()=>{const[o,n]=d.useState({response:null,error:!1,loading:!1}),l=(i="",r={method:"GET",body:{},query:{}})=>{i&&(n({response:null,error:null,loading:!0}),fetch(F(i,r.query),{method:r.method||"GET",headers:{"Content-Type":"application/json"},body:r.method!=="GET"&&JSON.stringify(r.body)}).then(async t=>{const s=await t.json();n({response:s,error:!t.ok,loading:!1})}).catch(t=>{n({response:t,error:!0,loading:!1})}))};return[o.response,o.error,o.loading,l]},T=()=>{const[o,n,l,i]=P(),r=p({initialValues:{email:"",termsOfService:!1},validate:{email:s=>/^\S+@\S+$/.test(s)?null:"Invalid email"}}),t=s=>{i("https://www.anapioficeandfire.com/api/houses",{query:{page:1,pageSize:10}})};return o?e("p",{children:"There was a response. Possibly redirect?"}):a(d.Fragment,{children:[e("h1",{className:"text-3xl font-bold underline",children:"Form"}),a("div",{style:{position:"relative"},children:[e(f,{visible:l,overlayBlur:2}),e(y,{sx:{maxWidth:300},mx:"auto",children:a("form",{onSubmit:r.onSubmit(t),children:[e(g,{withAsterisk:!0,label:"Email",placeholder:"your@email.com",...r.getInputProps("email")}),e(b,{mt:"md",label:"I agree to sell my privacy",...r.getInputProps("termsOfService",{type:"checkbox"})}),a(x,{position:"right",mt:"md",children:[e(m,{href:"/",children:e(u,{children:"List"})}),e(u,{type:"submit",children:"Submit"})]}),n&&e("div",{children:" There was an error... "})]})}),e("ul",{children:o&&o.map(s=>e("li",{children:s.name}))})]})]})},I=()=>e(d.Fragment,{children:a("div",{children:[e("h1",{className:"text-3xl font-bold underline",children:"List"}),e(m,{href:"/form",className:"active",children:"Form"})]})});function G(){const[o]=S();return console.log(o),e("main",{children:e(v,{base:"/app/excursions",children:a(j,{children:[e(c,{path:"/",children:e(I,{})}),e(c,{path:"/form",children:e(T,{})}),e(c,{children:"404, Not Found!"})]})})})}w.createRoot(document.getElementById("root")).render(e(L.StrictMode,{children:e(O,{withGlobalStyles:!0,withNormalizeCSS:!0,children:e(G,{})})}));
